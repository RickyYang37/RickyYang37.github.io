<!doctype html>
<html lang='en'>

<head>
    <!-- Required meta tags -->
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- Bootstrap CSS -->
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css' rel='stylesheet'
        integrity='sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x' crossorigin='anonymous'>
    <link rel="icon" href="/Pokemon/favicon-20210614111621548.ico" type="image/x-icon" />
    <title>Hello, Pokemon!</title>
    <style>
        .banner {
            background-image: url(list_top_bg.jpg);

            background-size: contain;
        }
    </style>
</head>

<body>
    <h1 class="text-center">Hello, 童年!</h1>

    <div class="container-fluid">
        <div class="banner col-9 m-auto">
            <img src="https://tw.portal-pokemon.com/play/resources/pokedex/img/pm/2fd12098f15628cce80d411e090189aeb7d758ff.png"
                alt="">
        </div>
    </div>

    <div class="btn-group d-block text-center mt-4" role="group" aria-label="Basic example">
        <button type="button" class="btn btn-warning ">加加</button>
        <button type="button" class="btn btn-warning">減減</button>
        <button type="button" class="btn btn-dark ">重置</button>
        <button type="button" class="btn btn-danger">Load Time</button>
        <button type="button" class="btn btn-danger ">Time Stop</button>
    </div>

    <div class="content"></div>




    <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js'
        integrity='sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4'
        crossorigin='anonymous'></script>
    <script>
        let add = document.getElementsByTagName("button")[0];
        let minus = document.getElementsByTagName("button")[1];
        let reset = document.getElementsByTagName("button")[2];
        let loadTime = document.getElementsByTagName("button")[3];
        let timeStop = document.getElementsByTagName("button")[4];

        let content = document.getElementsByClassName("content")[0];


        let file = "";
        let i = "1";

        // window.onload = imgOnclick;

        //點到移除 img.onclick在for裡沒生效? 還是圖不同張? console沒報錯
        // function imgOnclick() {
        //     for (let k = 1; k <= 4; k++) {
        //         file = i.toString().padStart(3, "0");
        //         i++;
        //         let img = document.createElement("img");
        //         img.setAttribute("src", `https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${file}.png`)
        //         console.log(img);
        //         console.log(typeof (img));
        //         // content.appendChild(img);

        //     }
        //     i = 1;
        // }

        //++
        add.onclick = function () {
            file = i.toString().padStart(3, "0");
            // let path = `<img src=https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${file}.png>`;
            i++;

            let img = document.createElement("img");
            img.setAttribute("src", `https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${file}.png`)
            // img.setAttribute("src", "https://assets.pokemon.com/assets/cms2/img/pokedex/detail/444.png")
            content.appendChild(img);
            //點到移除
            img.onclick=function(){
                content.removeChild(img);
            }
        }

        //--
        minus.onclick = function (x) {
            //取得目前是第幾個? 把它減掉
            //按下之後刪掉
            // let pa = `<img src=https://assets.pokemon.com/assets/cms2/img/pokedex/detail/001.png>`;
            let current = content.childNodes.length;

            content.removeChild(content.childNodes[current - 1]);
        }

        // reset
        reset.onclick = function () {
            content.innerHTML = "";
            i = "1";
            clearInterval(getPoke);
            loadTime.disabled = false;

        }

        let getPoke;
        //時間++    
        loadTime.addEventListener("click", function () {
            getPoke = setInterval(loadPoke, 500)
            loadTime.disabled = true;

        })

        //時間暫停
        timeStop.addEventListener("click", function () {
            clearInterval(getPoke);
            loadTime.disabled = false;
        })


        function loadPoke() {
            file = i.toString().padStart(3, "0");
            i++;
            let img = document.createElement("img");
            img.setAttribute("src", `https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${file}.png`)

            content.appendChild(img);

            //點到移除
            img.onclick=function(){
                content.removeChild(img);
            }
        }

        // window.onload = imgOnclick;


        // function imgOnclick() {
        //     for (let k = 1; k <= 4; k++) {
        //         file = i.toString().padStart(3, "0");
        //         i++;
        //         let img = document.createElement("img");
        //         img.setAttribute("src", `https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${file}.png`)
        //         console.log(img);
        //         console.log(typeof(img));
        //         // content.appendChild(img);
        //         img.onclick=function(){
        //             alert("QQ");
        //         }

        //     }
        //     i = 1;
        // }

    </script>
</body>

</html>